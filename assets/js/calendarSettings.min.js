$((function(){let nationalHolidayTimeSet=new Set;function isNationalHoliday(date){return!!nationalHolidayTimeSet.has(date.getTime())}$.get("https://holidays-jp.github.io/api/v1/date.json",(function(dateJson){let holidaySet;Object.keys(dateJson).forEach(holiday=>{let ymd=holiday.split("-");nationalHolidayTimeSet.add(new Date(ymd[0],ymd[1]-1,ymd[2]).getTime())}),$("#reserv_date1").datepicker("destroy").datepicker(createCalendarOption("reserv_time1")),$("#reserv_date2").datepicker("destroy").datepicker(createCalendarOption("reserv_time2"))}));let ginzaBusinessHolidayTimeSet=new Set,ginzaBusinessHolidaySet;new Set(["2025-12-30","2025-12-31","2026-01-01","2026-01-02","2026-01-03"]).forEach(holiday=>{let ymd=holiday.split("-");ginzaBusinessHolidayTimeSet.add(new Date(ymd[0],ymd[1]-1,ymd[2]).getTime())});let ginzaWorkdayTimeSet=new Set,ginzaWorkdaySet;function viewWorkingTime(date,reserv_time){var dayOfWeek=date.getDay(),selectBox=$("."+reserv_time);const list1=["12:00～","12:30～","13:00～","13:30～","14:00～","14:30～","15:00～","15:30～","16:00～","16:30～","17:00～","17:30～","18:00～","18:30～","19:00～","19:30～"],list2=["10:00～","10:30～","11:00～","11:30～","12:00～","12:30～","13:00～","13:30～","14:00～","14:30～","15:00～","15:30～","16:00～","16:30～","17:00～","17:30～"];$("."+reserv_time).attr("disabled",!1),isNationalHoliday(date)||0===dayOfWeek||6===dayOfWeek?changeSelectOption(selectBox,list2):changeSelectOption(selectBox,list1)}function changeSelectOption(ele,list){var keys=Object.keys(list);ele.children("option").remove(),ele.append($("<option>").text("時間を選択 ▼").val("")),$.each(list,(function(i,value){var option=$("<option>").text(value).val(value);ele.append(option)}))}function isBusinessHoliday(date){return!ginzaWorkdayTimeSet.has(date.getTime())&&(!!ginzaBusinessHolidayTimeSet.has(date.getTime())||!isNationalHoliday(date)&&4===date.getDay())}function createCalendarOption(reserv_time){let tmpDate=new Date,today=new Date(tmpDate.getFullYear(),tmpDate.getMonth(),tmpDate.getDate()),workMinDate=2,option;for(let i=workMinDate;i<=workMinDate;i++)tmpDate.setTime(today.getTime()),tmpDate.setDate(tmpDate.getDate()+i),isBusinessHoliday(tmpDate)&&workMinDate++;return{dateFormat:"yy年mm月dd日（D）",closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",minDate:workMinDate,maxDate:getNextMonth(),beforeShow:function(){setTimeout((function(){$(".ui-datepicker").css("z-index",10002)}),0)},beforeShowDay:function(date){return[!isBusinessHoliday(date)]},onSelect:function(dateText,inst){var date;viewWorkingTime($(this).datepicker("getDate"),reserv_time)}}}function getNextMonth(){var today=new Date;return today.setMonth(today.getMonth()+2,0),today}new Set(["2024-10-06","2024-10-20","2024-10-27"]).forEach(workday=>{let ymd=workday.split("-");ginzaWorkdayTimeSet.add(new Date(ymd[0],ymd[1]-1,ymd[2]).getTime())})}));